# 高级搜索语法指南

这份文档详细介绍了Discord论坛搜索机器人的高级搜索语法，帮助您快速有效地找到需要的信息。

## 基础搜索

使用slash命令 `/forum_search` 启动搜索功能：

```bash
/forum_search forum_name:[论坛名称] query:[关键词]
```

例如，要在"问题解答"论坛中搜索"Python错误"：

```bash
/forum_search forum_name:问题解答 query:Python错误
```

## 高级搜索语法

### 逻辑操作符

机器人支持以下逻辑操作符：

1. **AND操作符**：查找同时包含多个关键词的内容
   - 语法：`关键词1 AND 关键词2` 或 `关键词1 & 关键词2`
   - 示例：`Python AND 错误` 会查找同时包含"Python"和"错误"的内容

2. **OR操作符**：查找包含任一关键词的内容
   - 语法：`关键词1 OR 关键词2` 或 `关键词1 | 关键词2`
   - 示例：`Python OR JavaScript` 会查找包含"Python"或"JavaScript"的内容

3. **NOT操作符**：排除包含特定关键词的内容
   - 语法：`NOT 关键词` 或 `-关键词`
   - 示例：`Python NOT 初学者` 会查找包含"Python"但不包含"初学者"的内容

### 精确匹配

使用引号可以搜索完全匹配的短语：

```text
"完整短语匹配"
```

例如，`"如何安装Python"` 将只匹配完全包含"如何安装Python"的内容，而不是单独包含"如何"、"安装"和"Python"的内容。

### 组合使用

您可以组合使用上述操作符创建复杂的搜索条件：

```text
Python AND (错误 OR 异常) NOT "初学者问题"
```

这个搜索会查找：

- 包含"Python"的内容，并且
- 包含"错误"或"异常"的内容，但
- 不包含短语"初学者问题"的内容

## 搜索过滤器

除了关键词搜索外，您还可以使用以下过滤器：

### 标签过滤

最多可以指定3个要包含的标签：

```bash
/forum_search forum_name:[论坛名称] tag1:[标签1] tag2:[标签2] tag3:[标签3]
```

### 排除标签

同样可以指定要排除的标签：

```bash
/forum_search forum_name:[论坛名称] exclude_tag1:[排除标签1] exclude_tag2:[排除标签2]
```

### 按作者过滤

通过指定作者来限制搜索范围：

```bash
/forum_search forum_name:[论坛名称] author:[作者名]
```

也可以排除特定作者的内容：

```bash
/forum_search forum_name:[论坛名称] exclude_author:[排除作者名]
```

### 搜索排序

您可以指定搜索结果的排序方式：

```bash
/forum_search forum_name:[论坛名称] sort_by:[排序方式]
```

可用的排序方式包括：

- `latest` - 按发布时间排序（最新的先显示）
- `oldest` - 按发布时间排序（最早的先显示）
- `most_replies` - 按回复数排序（最多回复先显示）
- `most_reactions` - 按反应数排序（最多反应先显示）
- `last_active` - 按最后活跃时间排序（最近活跃先显示）

## 搜索技巧

1. **从简单开始**：如果不确定，先使用简单的关键词搜索
2. **使用同义词**：如果搜索结果不理想，尝试使用不同的同义词
3. **精确匹配**：当搜索特定短语时，使用引号可以减少无关结果
4. **避免过滤过多**：过多的过滤条件可能导致没有结果
5. **使用标签组合**：论坛标签是快速缩小范围的好方法

## 实用搜索示例

1. 查找某用户关于Python的所有问题：

```bash
/forum_search forum_name:问题解答 query:Python author:用户名
```

1. 查找不包含初学者内容的高级教程：

```bash
/forum_search forum_name:教程分享 query:"高级教程" NOT 初学者 tag1:编程
```

1. 按最多回复查找热门讨论：

```bash
/forum_search forum_name:讨论区 sort_by:most_replies
```

1. 查找最近一周的活跃帖子：

```bash
/forum_search forum_name:公告 sort_by:last_active
```

## 性能考虑

在大型服务器上，以下搜索实践有助于获得更快的结果：

1. **使用更具体的关键词**：避免过于宽泛的搜索词
2. **限制搜索范围**：使用标签、作者过滤器缩小搜索范围
3. **避免大范围搜索**：搜索特定论坛而非所有论坛
4. **使用排序优化**：对于活跃的论坛，使用`latest`或`last_active`排序可能获得更快的结果

## 故障排除

如果搜索没有返回预期结果：

1. **检查拼写**：确保搜索关键词拼写正确
2. **简化搜索**：移除复杂的操作符，用简单关键词尝试
3. **查看权限**：确保机器人有权限访问所有相关帖子
4. **扩大范围**：尝试减少过滤器或使用更宽泛的关键词
5. **更换标签**：尝试使用不同的标签组合

如果您对搜索语法有任何疑问，可以在服务器中联系管理员获取帮助。
